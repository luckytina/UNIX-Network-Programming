2.8 sctp关联的建立和终止
与tcp一样sctp也是面向连接的，因而也有关联的建立与终止的握手过程。
2.8.1四路握手
建立一个sctp关联的时候发生了下述情形
（1）服务器必须准备好接受外来的关联。这通常是通过调用socket bind 和listen这3个函数来完成的，称为
被动打开。
（2）客户通过调用connect或者发送一个隐式打开该关联的消息进行主动打开。这使得客户sctp发送一个init
消息，该消息告诉服务器客户的ip地址清单、初始序列号、用于标示本关联中所有分组的起始标记、客户请求
的外出流的数目以及客户能够支持的外来流的数目
（3）服务器以一个init ack消息确认客户的init消息其中含有服务器的ip地址清单、初始序列号、起始标记
服务器请求的外出流数目、服务器能够支持的外来流数目以及一个状态cookie。状态cookie包含服务器用于
确信本关联有效所需的所有状态，它是数字化签名过程的，以确保其有效性。
（4）客户以一个cookie echo 消息回射服务器的状态cookie。除cookie echo外，该消息可能在同一个分组中
还捆绑了用户数据。
（5）服务器以一个cookie ack消息确认客户回射的cookie是正确的，本关联于是建立。
2.8.3 sctp状态转换图

2.8.4观察分组

2.8.5sctp选项


2.9端口号
端口号分为以下三种
（1）众所周知的端口号。为0~1023
（2）已登记的端口号。1024~49151
（3）动态的或私用的端口号。49152~65535

2.10 tcp端口号与并发服务
并发服务器循环通过派生一个子进程来处理每个新的连接。
派生子进程过程中地址和端口号是相同的，每一个套接字中有源地址、源端口号和目的地址、目的端口号
其中有一项不同则这个套接字为不同套接字。
